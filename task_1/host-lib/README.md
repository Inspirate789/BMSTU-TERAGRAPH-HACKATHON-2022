# Проект Тераграф. Библиотека host системы

## Общее описание

Библиотека для взаимодействия HOST систем с Graph Processor Core (XRT Runtime версия), используются аппаратные FIFO буферы по 512 слов и память External Memory.

Библиотека содержит стандартные общие для проектов исходные коды и makefile для сборки проекта.

Для получения законченного проекта требуется создание основного файла `host.cpp` и заголовка прерываний `gpc_handlers.h`.

## Установка в проект

Установка выполняется как модуля репозитория git:

```bash
git submodule add https://gitlab.com/leonhard-x64-xrt-v2/libraries/host-lib.git
```

## Зависимости

Зависимости для сборки проекта:

* исходные файлы: основной `host_main.cpp` и заголовок прерываний `gpc_handlers.h`

* библиотека [xrt](https://gitlab.com/xilinx4jet/XRT) и установка по пути `/opt/xilinx/xrt`

Для стандартного пользователя ВМ студенческой команды хакатона xrt установлен по-умолчанию.

## Сборка проекта

Следует выполнить команду из директории проекта верхнего уровня:

```bash
make -C <Путь до этой директории библиотеки>
```

Пример:

```bash
make -C host-lib
```

Результатом выполнения команды станет файл host_main в директории проекта верхнего уровня.

| :exclamation:  Не забывайте синхронизировать версии исходного текста host и kernel составляющих проекта |
|---------------------------------------------------------------------------------------------------------|

## Запуск проекта

```
host_main <Путь к xclbin файлу> <Путь к rawbinary файлу библиотеки sw_kernel>
```
